(this["webpackJsonpdisk-client"]=this["webpackJsonpdisk-client"]||[]).push([[0],{101:function(e,n,t){"use strict";t.r(n);var r=t(1),c=t(0),a=t(23),i=t.n(a),o=t(30),u=t(17),s=t(2),l=t(29),d=t.n(l),f=(t(37),t(10)),p=t(3),j=t(4),h=t.p+"static/media/img.fe0323b5.jpg",b="http://urij.insomnia247.nl:5310",O="http://urij.insomnia247.nl:5311";function x(){var e=Object(p.a)(["\n    width: 100%;\n    @media screen and (max-width: 767px){\n        display: flex;\n        justify-content: center;\n    }\n    \n"]);return x=function(){return e},e}function v(){var e=Object(p.a)(["\n    margin-left: 16px;\n"]);return v=function(){return e},e}function m(){var e=Object(p.a)(["\n    text-decoration: none;\n    outline: none;\n    display: inline-block;\n"]);return m=function(){return e},e}function g(){var e=Object(p.a)(["\n    height: 44px;\n    max-width: 320px;\n"]);return g=function(){return e},e}function y(){var e=Object(p.a)(["\n    margin-bottom: 24px;\n    font-size: 18px;\n    line-height: 22px;\n"]);return y=function(){return e},e}function w(){var e=Object(p.a)(["\n    margin-bottom: 32px;\n    font-size: 28px;\n    line-height: 32px;\n    color: ","\n"]);return w=function(){return e},e}function k(){var e=Object(p.a)(["\n    grid-area: image;\n    justify-content: center; \n"]);return k=function(){return e},e}function E(){var e=Object(p.a)(["\n    grid-area: content;\n"]);return E=function(){return e},e}function L(){var e=Object(p.a)(["\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    @media screen and (max-width: 575px){\n        display: none;\n    }\n"]);return L=function(){return e},e}function S(){var e=Object(p.a)(["\n    grid-area: header;\n    display: flex;\n    align-items: center;\n    justify-content: space-between;\n"]);return S=function(){return e},e}function F(){var e=Object(p.a)(['\n    display: grid;\n    margin: auto;\n    padding: 0 16px;\n    grid-template-rows: 60px 1fr;\n    grid-template-columns: 30% 70%;\n    max-width: 1170px;\n    width: 100%;\n    height: 100%;\n    grid-template-areas:\n        "header header"\n        "content image";\n    align-items: center;\n    @media screen and (max-width: 767px){\n        grid-template-columns: 1fr;\n        grid-template-areas: \n        "header"\n        "content"\n        "image";    \n    }\n    @media screen and (max-width: 575px){\n        align-items: flex-start;\n    }\n']);return F=function(){return e},e}var I=s.default.div(F()),D=s.default.div(S()),_=s.default.div(L()),A=s.default.div(E()),T=s.default.div(k()),U=Object(s.default)(j.Typography)(w(),(function(e){return e.theme.colorAccent})),C=Object(s.default)(j.Typography)(y()),H=Object(s.default)(j.Button)(g()),P=s.default.a(m()),R=Object(s.default)(P)(v()),M=Object(s.default)(P)(x()),B="".concat("http://urij.hostronavt.ru/auth-client","/?redirectURL=http://urij.hostronavt.ru/disk-client/"),N=function(){return Object(r.jsxs)(I,{children:[Object(r.jsxs)(D,{children:[Object(r.jsx)(j.Typography,{type:"h1",children:"\u0425\u0440\u0430\u043d\u0438\u043b\u0438\u0449\u0435"}),Object(r.jsx)(_,{children:Object(r.jsx)(R,{href:B,children:Object(r.jsx)(j.Button,{type:"primary",children:"\u0412\u043e\u0439\u0442\u0438"})})})]}),Object(r.jsxs)(A,{children:[Object(r.jsx)(U,{type:"h2",children:"\u0411\u0435\u0441\u043f\u043b\u0430\u0442\u043d\u043e\u0435 \u0445\u0440\u0430\u043d\u0438\u043b\u0438\u0449\u0435 \u0434\u043b\u044f \u0432\u0430\u0448\u0438\u0445 \u0444\u0430\u0439\u043b\u043e\u0432"}),Object(r.jsx)(C,{type:"text",children:"\u0421\u043e\u0431\u0435\u0440\u0438\u0442\u0435 \u0432\u043e\u0435\u0434\u0438\u043d\u043e \u0441\u0432\u043e\u0438 \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u044b, \u0444\u043e\u0442\u043e\u0433\u0440\u0430\u0444\u0438\u0438, \u0432\u0438\u0434\u0435\u043e, \u0444\u0430\u0439\u043b\u044b \u2014 \u0438 \u0440\u0430\u0431\u043e\u0442\u0430\u0439\u0442\u0435 \u0442\u0430\u043a, \u043a\u0430\u043a \u0432\u0430\u043c \u0443\u0434\u043e\u0431\u043d\u043e"}),Object(r.jsx)(M,{href:B,children:Object(r.jsx)(H,{fullWidth:!0,type:"primary",children:"\u041d\u0430\u0447\u0430\u0442\u044c"})})]}),Object(r.jsx)(T,{children:Object(r.jsx)(j.Image,{src:h})})]})},W=t.p+"static/media/bg.0c1230ac.jpg",z=t(5),G=t.n(z),K=t(9),V=t(14),X=t(16),J=t(19),Y=t(44),q=t(21),Q=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||J.d,Z=[Y.a],$=Object(J.e)(q.default,Q(J.a.apply(void 0,Z))),ee=new(t(45).a)("".concat(b,"/refresh")),ne={signIn:function(e){return ee.signIn("".concat(b,"/signinSSO"),{SSOToken:e})},refresh:function(){return ee.refresh()},logout:function(){return ee.http("".concat(b,"/logout"),"POST")},getMe:function(e){return ee.http("".concat(O,"/getMe"),"POST",{idUser:e})}},te={getFiles:function(e,n){var t="".concat(O);return e&&(t="".concat(O,"/?parent=").concat(e)),n&&(t="".concat(O,"/?sort=").concat(n)),e&&n&&(t="".concat(O,"/?parent=").concat(e,"&sort=").concat(n)),ee.http(t)},createDir:function(e,n){return ee.http("".concat(O),"POST",{name:n,parent:e,type:"dir"})},downloadFile:function(e){return ee.http("".concat(O,"/download?id=").concat(e),"GET",{},{responseType:"blob"})},deleteFile:function(e){return ee.http("".concat(O,"/?id=").concat(e),"DELETE")},setShareLink:function(e){return ee.http("".concat(O,"/setShareLink"),"POST",{id:e._id})},removeShareLink:function(e){return ee.http("".concat(O,"/removeShareLink/?id=").concat(e),"DELETE")},searchFiles:function(e){return ee.http("".concat(O,"/search?search=").concat(e))}},re={setUserData:function(e){return{type:"USER:SET_DATA",payload:e}},setIsAuth:function(e){return{type:"USER:SET_IS_AUTH",payload:e}},fetchUserLogin:function(){return function(){var e=Object(K.a)(G.a.mark((function e(n){var t;return G.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ne.signIn(window.SSOToken);case 3:return t=e.sent,n(re.setIsAuth(!0)),n(re.getInfo(t)),window.SSOToken=null,n(re.getMe(ee.GetAuthUser())),e.abrupt("return",t);case 11:e.prev=11,e.t0=e.catch(0),console.error(e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(n){return e.apply(this,arguments)}}()},refresh:function(){return function(){var e=Object(K.a)(G.a.mark((function e(n){var t;return G.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ne.refresh();case 3:return t=e.sent,n(re.setIsAuth(!0)),n(re.getInfo(t)),n(re.getMe(ee.GetAuthUser())),e.abrupt("return",t);case 10:e.prev=10,e.t0=e.catch(0),console.error(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(n){return e.apply(this,arguments)}}()},logout:function(){return function(){var e=Object(K.a)(G.a.mark((function e(n){var t;return G.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ne.logout();case 3:return t=e.sent,ee.SetAccessToken(""),n(re.setIsAuth(!1)),e.abrupt("return",t);case 9:e.prev=9,e.t0=e.catch(0),console.error(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(n){return e.apply(this,arguments)}}()},getMe:function(e){return function(){var n=Object(K.a)(G.a.mark((function n(t){var r;return G.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,ne.getMe(e);case 3:return r=n.sent,t(re.setUserData(r)),ee.SetUser(r.id),n.abrupt("return",r);case 9:n.prev=9,n.t0=n.catch(0),console.error(n.t0);case 12:case"end":return n.stop()}}),n,null,[[0,9]])})));return function(e){return n.apply(this,arguments)}}()},getInfo:function(e){return function(){var n=Object(K.a)(G.a.mark((function n(t){var r;return G.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:r={name:e.name,lastname:e.lastname},t(re.setUserData(r));case 2:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()}},ce=re,ae=t(32),ie={setAddUploadFile:function(e){return{type:"FILE:ADD_UPLOAD_FILE",payload:e}},setRemoveUploadFile:function(e){return{type:"FILE:REMOVE_UPLOAD_FILE",payload:e}},setChangeUploadFile:function(e){return{type:"FILE:CHANGE_UPLOAD_FILE",payload:e}},setFiles:function(e){return{type:"FILE:SET_FILES",payload:e}},setPushToStack:function(e){return{type:"FILE:PUSH_TO_STACK",payload:e}},setCurrentDir:function(e){return{type:"FILE:SET_CURRENT_DIR",payload:e}},setAddFile:function(e){return{type:"FILE:ADD_FILE",payload:e}},setDeleteFileAction:function(e){return{type:"FILE:DELETE_FILE",payload:e}},showLoader:function(){return{type:"FILE:SHOW_LOADER"}},hideLoader:function(){return{type:"FILE:HIDE_LOADER"}},setShareLinkAction:function(e){return{type:"FILE:SET_SHARE_LINK",payload:e}},removeShareLinkAction:function(e){return{type:"FILE:REMOVE_SHARE_LINK",payload:e}},getFiles:function(e,n){return function(){var t=Object(K.a)(G.a.mark((function t(r){var c;return G.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r(ie.showLoader()),t.next=4,te.getFiles(e,n);case 4:c=t.sent,r(ie.setFiles(c)),r(ie.hideLoader()),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),console.error(t.t0);case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}()},createDir:function(e,n){return function(){var t=Object(K.a)(G.a.mark((function t(r){var c;return G.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,te.createDir(e,n);case 3:c=t.sent,r(ie.setAddFile(c)),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.error(t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()},removeUploadFile:function(e,n){return function(){var t=Object(K.a)(G.a.mark((function t(r){return G.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n.stop=!0,r(ie.setRemoveUploadFile(e));case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},uploadFile:function(e,n,t){return function(){var r=Object(K.a)(G.a.mark((function r(c){var a,i,o,u;return G.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:a=[],e.forEach((function(e,n){a[n]={};var t={name:e.name,progress:0,id:n,stop:a[n]};c(ie.setAddUploadFile(t))})),i=function(){var e=Object(K.a)(G.a.mark((function e(n,t,r,c){return G.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(ae.slicer)(O,{},n,1048576,t,r,a[c]);case 2:case"end":return e.stop()}}),e)})));return function(n,t,r,c){return e.apply(this,arguments)}}(),o=G.a.mark((function r(o){var u,s;return G.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!Object(ae.support)()){r.next=6;break}return u=function(e){var n={id:o,progress:e.progress,name:e.name,error:!!e.error,stop:a[o]};c(ie.setChangeUploadFile(n)),100===e.progress&&(c(ie.setRemoveUploadFile(o)),e.data&&c(ie.setAddFile(e.data.data)),c(ce.getMe(ee.GetAuthUser())))},s={user:t.id},n&&(s={user:t.id,parent:n}),r.next=6,i(e[o],s,u,o);case 6:case"end":return r.stop()}}),r)})),u=0;case 5:if(!(u<e.length)){r.next=10;break}return r.delegateYield(o(u),"t0",7);case 7:u++,r.next=5;break;case 10:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}()},deleteFile:function(e){return function(){var n=Object(K.a)(G.a.mark((function n(t){return G.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,te.deleteFile(e._id);case 3:t(ie.setDeleteFileAction(e._id)),t(ce.getMe(ee.GetAuthUser())),n.next=10;break;case 7:n.prev=7,n.t0=n.catch(0),console.error(n.t0);case 10:case"end":return n.stop()}}),n,null,[[0,7]])})));return function(e){return n.apply(this,arguments)}}()},downloadFile:function(e){return Object(K.a)(G.a.mark((function n(){var t,r,c;return G.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,te.downloadFile(e._id);case 3:t=n.sent,r=window.URL.createObjectURL(new Blob([t])),(c=document.createElement("a")).href=r,c.download=e.name,document.body.appendChild(c),c.click(),c.remove(),n.next=16;break;case 13:n.prev=13,n.t0=n.catch(0),console.error(n.t0);case 16:case"end":return n.stop()}}),n,null,[[0,13]])})))},setShareLink:function(e,n){return function(){var t=Object(K.a)(G.a.mark((function t(r){var c;return G.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,te.setShareLink(e);case 3:c=t.sent,r(ie.setShareLinkAction(c)),n(c),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),console.error(t.t0);case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}()},removeShareLink:function(e){return function(){var n=Object(K.a)(G.a.mark((function n(t){var r;return G.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,te.removeShareLink(e);case 3:r=n.sent,t(ie.removeShareLinkAction(r)),n.next=10;break;case 7:n.prev=7,n.t0=n.catch(0),console.error(n.t0);case 10:case"end":return n.stop()}}),n,null,[[0,7]])})));return function(e){return n.apply(this,arguments)}}()},searchFiles:function(e){return function(){var n=Object(K.a)(G.a.mark((function n(t){var r;return G.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,te.searchFiles(e);case 3:r=n.sent,t(ie.setFiles(r)),t(ie.hideLoader()),n.next=11;break;case 8:n.prev=8,n.t0=n.catch(0),console.error(n.t0);case 11:case"end":return n.stop()}}),n,null,[[0,8]])})));return function(e){return n.apply(this,arguments)}}()}},oe=ie,ue=function(e){return e>1073741824?(e/1073741824).toFixed(1)+" \u0413\u0431":e>1048576?(e/1048576).toFixed(1)+" \u041c\u0431":e>1024?(e/1024).toFixed(1)+" \u041a\u0431":e+" \u0431\u0430\u0439\u0442"};function se(){var e=Object(p.a)(["\n    margin-left: 16px;\n"]);return se=function(){return e},e}function le(){var e=Object(p.a)(["\n    margin-top: 4px;\n    width: 100%;\n    margin-bottom: 6px;\n"]);return le=function(){return e},e}function de(){var e=Object(p.a)(["\n    width: 100%;\n    overflow: hidden;\n    text-overflow: ellipsis;\n"]);return de=function(){return e},e}function fe(){var e=Object(p.a)(["\n   display: flex;\n   flex-direction: column;\n   align-items: flex-start;\n"]);return fe=function(){return e},e}function pe(){var e=Object(p.a)(["\n    margin-top: 16px;\n    height: 34px;\n    width: 100%;\n    display: flex;\n    align-items: center;\n    /* align-items: flex-end; */\n    justify-content: center;\n"]);return pe=function(){return e},e}var je=s.default.div(pe()),he=s.default.div(fe()),be=Object(s.default)(j.Typography)(de()),Oe=Object(s.default)(j.ProgressBar)(le()),xe=Object(s.default)(j.IconButton)(se()),ve=function(e){var n=e.file,t=e.removeUploadFile;return Object(r.jsxs)(je,{children:[Object(r.jsxs)(he,{children:[Object(r.jsx)(be,{margin:!0,type:"text",children:n.name}),Object(r.jsx)(Oe,{type:n.error?"error":"success",percent:n.progress})]}),Object(r.jsx)(xe,{type:"link",icon:"close",onClick:function(){return t(n.id,n.stop)}})]})};function me(){var e=Object(p.a)(["\n    min-width: 320px;\n"]);return me=function(){return e},e}var ge=Object(s.default)(j.Popup)(me()),ye=function(e){var n=e.visible,t=e.hidePopupHandler,c=e.dirName,a=e.dirNameHandler,i=e.createHandler;return Object(r.jsxs)(ge,{title:"\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u043d\u043e\u0432\u0443\u044e \u043f\u0430\u043f\u043a\u0443",visible:n,type:"popup-close",onClose:t,children:[Object(r.jsx)(j.Input,{placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u043f\u0430\u043f\u043a\u0438...",value:c,onChange:a}),Object(r.jsx)(j.Button,{type:"primary",onClick:i,children:"\u0421\u043e\u0437\u0434\u0430\u0442\u044c"})]})};function we(){var e=Object(p.a)(["\n  margin-bottom: 44px;\n"]);return we=function(){return e},e}function ke(){var e=Object(p.a)(["\n  margin-top: 12px;\n"]);return ke=function(){return e},e}function Ee(){var e=Object(p.a)(["\n  width: 100%;\n"]);return Ee=function(){return e},e}function Le(){var e=Object(p.a)(["\n  margin-top: 36px;\n  width: 100%;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n"]);return Le=function(){return e},e}function Se(){var e=Object(p.a)(["\n  margin-top: 24px;\n"]);return Se=function(){return e},e}function Fe(){var e=Object(p.a)(["\n  margin-top: 16px;\n  height: 44px;\n"]);return Fe=function(){return e},e}function Ie(){var e=Object(p.a)(["\n  margin-top: 24px;\n  height: 44px;\n"]);return Ie=function(){return e},e}function De(){var e=Object(p.a)(["\n  margin-left: 20px;\n  display: flex;\n  align-items: flex-start;\n  flex-direction: column;\n"]);return De=function(){return e},e}function _e(){var e=Object(p.a)(["\n  width: 100%;\n  display: flex;\n  align-items: center;\n  position: absolute;\n  bottom: 24px;\n  left: 16px;\n  @media screen and (max-width: 751px){\n    position: relative;\n  }\n"]);return _e=function(){return e},e}function Ae(){var e=Object(p.a)(["\n  padding-left: 16px;\n  padding-right: 16px;\n"]);return Ae=function(){return e},e}function Te(){var e=Object(p.a)(["\n  position: relative;\n  align-items: flex-start;\n  grid-area: sidebar;\n  @media screen and (max-width: 751px){\n    width: 100%;\n    max-width: 751px;\n    max-height: 100%;\n  }\n"]);return Te=function(){return e},e}var Ue=Object(s.default)(j.Sidebar)(Te()),Ce=s.default.div(Ae()),He=s.default.div(_e()),Pe=s.default.div(De()),Re=Object(s.default)(j.Button)(Ie()),Me=Object(s.default)(j.Button)(Fe()),Be=Object(s.default)(j.Menu)(Se()),Ne=s.default.div(Le()),We=Object(s.default)(j.ProgressBar)(Ee()),ze=Object(s.default)(j.Typography)(ke()),Ge=Object(s.default)(j.Frame)(we()),Ke=Object(u.b)((function(e){var n=e.file,t=e.user;return{currentDir:n.currentDir,user:t,filesUpload:n.filesUpload}}),oe)((function(e){var n=e.currentDir,t=e.user,a=e.filesUpload,i=Object(c.useState)("file"),o=Object(X.a)(i,2),u=o[0],s=o[1],l=Object(c.useState)(""),d=Object(X.a)(l,2),f=d[0],p=d[1],h=Object(c.useState)(0),b=Object(X.a)(h,2),O=b[0],x=b[1],v=Object(c.useState)(!1),m=Object(X.a)(v,2),g=m[0],y=m[1];Object(c.useEffect)((function(){if(t.id){$.dispatch(oe.getFiles(n,u));var e=t.diskSpace/100,r=t.usedSpace/e;x(r.toFixed(1))}}),[n,u,t,x]);var w=function(e,n){$.dispatch(oe.removeUploadFile(e,n))},k=[{id:1,name:"\u0424\u0430\u0439\u043b\u044b",icon:"file",onClick:function(){return s("file")}},{id:2,name:"\u041f\u043e\u0441\u043b\u0435\u0434\u043d\u0438\u0435",icon:"last-time",onClick:function(){return s("last")}},{id:3,name:"\u0424\u043e\u0442\u043e\u0433\u0440\u0430\u0444\u0438\u0438",icon:"photo",onClick:function(){return s("photo")}},{id:4,name:"\u0412\u0438\u0434\u0435\u043e",icon:"video",onClick:function(){return s("video")}}],E=function(){var e=Object(K.a)(G.a.mark((function e(n){var t;return G.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,$.dispatch(ce.logout());case 2:t=e.sent,!0===t.isAuth&&n.history.push("/");case 5:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}();return Object(r.jsxs)(Ue,{color:"#ebeaea",children:[Object(r.jsxs)(Ce,{children:[Object(r.jsx)(j.Typography,{type:"h1",children:"\u0425\u0440\u0430\u043d\u0438\u043b\u0438\u0449\u0435"}),Object(r.jsxs)(j.Typography,{type:"text",children:["\u0421\u043e\u0431\u0435\u0440\u0438\u0442\u0435 \u0432\u043e\u0435\u0434\u0438\u043d\u043e \u0441\u0432\u043e\u0438 ",Object(r.jsx)("br",{}),"\u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u044b, \u0444\u043e\u0442\u043e\u0433\u0440\u0430\u0444\u0438\u0438, \u0432\u0438\u0434\u0435\u043e,",Object(r.jsx)("br",{}),"\u0444\u0430\u0439\u043b\u044b \u2014 \u0438 \u0440\u0430\u0431\u043e\u0442\u0430\u0439\u0442\u0435 \u0442\u0430\u043a, ",Object(r.jsx)("br",{}),"\u043a\u0430\u043a \u0432\u0430\u043c \u0443\u0434\u043e\u0431\u043d\u043e."]}),Object(r.jsx)(Re,{overlay:Object(r.jsx)("input",{multiple:!0,onChange:function(e){return function(e){var r=Object(V.a)(e.target.files);$.dispatch(oe.uploadFile(r,n,t))}(e)},type:"file"}),fullWidth:!0,type:"primary",children:"\u0417\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044c \u0444\u0430\u0439\u043b"}),Object(r.jsx)(Me,{onClick:function(){y(!0)},fullWidth:!0,type:"outline-primary",children:"\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u043f\u0430\u043f\u043a\u0443"})]}),Object(r.jsx)(Be,{menu:k,activItem:1}),Object(r.jsxs)(Ce,{children:[Object(r.jsxs)(Ne,{children:[Object(r.jsx)(We,{percent:O}),t.usedSpace>=0&&t.diskSpace?Object(r.jsxs)(ze,{type:"text",children:["\u0418\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u043e ",ue(t.usedSpace)," \u0438\u0437 ",ue(t.diskSpace)]}):null]}),Object(r.jsx)(j.Typography,{type:"h3",children:"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0438"}),Object(r.jsx)(Ge,{children:a.map((function(e){return Object(r.jsx)(ve,{file:e,removeUploadFile:w},e.id)}))})]}),Object(r.jsxs)(He,{children:[t.id?Object(r.jsx)(j.Avatar,{user:t.id,fullname:t.name+" "+t.lastname,isOnline:t.isAuth,size:"small"}):null,Object(r.jsxs)(Pe,{children:[Object(r.jsxs)(j.Typography,{margin:!0,type:"h3",children:[t.name," ",t.lastname]}),Object(r.jsx)(j.Button,{onClick:E,type:"link-primary",children:"\u0412\u044b\u0439\u0442\u0438"})]})]}),Object(r.jsx)(ye,{visible:g,hidePopupHandler:function(){y(!1)},dirName:f,dirNameHandler:function(e){p(e.target.value)},createHandler:function(){""!==f&&($.dispatch(oe.createDir(n,f)),p(""),y(!1))}})]})})),Ve=t(46),Xe=t(6),Je=t.p+"static/media/directory.a70516a1.svg",Ye=t.p+"static/media/file.ea299ce8.svg";function qe(){var e=Object(p.a)(["\n    white-space: nowrap;\n    overflow: hidden;\n    text-overflow: ellipsis;\n    margin-left: 8px;\n"]);return qe=function(){return e},e}function Qe(){var e=Object(p.a)(["\n    background-color: ",";\n    &:hover{\n        background-color: ",";\n    }\n"]);return Qe=function(){return e},e}function Ze(){var e=Object(p.a)(["\n    margin-left: 8px;\n"]);return Ze=function(){return e},e}function $e(){var e=Object(p.a)(["\n    display: flex;\n    align-items: center;\n    margin-right: 8px;\n"]);return $e=function(){return e},e}function en(){var e=Object(p.a)(["\n        cursor: pointer;\n    "]);return en=function(){return e},e}function nn(){var e=Object(p.a)(["\n    position: absolute;\n    top: 28px;\n    left: 48px;\n    width: 100%;\n    max-width: 288px;\n    height: 48px;\n    display: flex;\n    align-items: center;\n    justify-content: space-between;\n    background: ",";\n    ","\n    ","\n    @media screen and (max-width: 383px){\n        max-width: 236px;\n    }\n"]);return nn=function(){return e},e}function tn(){var e=Object(p.a)(["\n    margin: 0;\n    position: absolute;\n    bottom: 8px;\n    left: 8px;\n    font-family: ",";\n    font-size: 16px;\n    font-weight: 400;\n    color: ",";\n"]);return tn=function(){return e},e}function rn(){var e=Object(p.a)(["\n            background-image: url(",");\n            background-repeat: no-repeat;\n        "]);return rn=function(){return e},e}function cn(){var e=Object(p.a)(["\n            background-image: url(",");\n            background-repeat: no-repeat;\n        "]);return cn=function(){return e},e}function an(){var e=Object(p.a)(["\n    position: relative;\n    width: 96px;\n    height: 96px;\n    ","\n"]);return an=function(){return e},e}function on(){var e=Object(p.a)(["cursor: pointer"]);return on=function(){return e},e}function un(){var e=Object(p.a)(["\n    width: 100%;\n    max-width: 368px;\n    height: 112px;\n    position: relative;\n    z-index: 10;\n    ","\n    @media screen and (max-width: 751px){\n        max-width: 352px;\n    }\n"]);return un=function(){return e},e}var sn=s.default.div(un(),(function(e){return"directory"===e.type?Object(s.css)(on()):null})),ln=s.default.div(an(),(function(e){return"directory"===e.type?Object(s.css)(cn(),Je):Object(s.css)(rn(),Ye)})),dn=s.default.div(tn(),(function(e){return e.theme.fontFamily}),(function(e){return e.theme.colors.colorAccent})),fn=s.default.div(nn(),(function(e){return e.theme.colors.colorBg}),(function(e){return e.theme.shadow.popup}),(function(e){return"directory"===e.type?Object(s.css)(en()):null})),pn=s.default.div($e()),jn=Object(s.default)(j.IconButton)(Ze()),hn=Object(s.default)(jn)(Qe(),(function(e){return e.theme.colors.colorError}),(function(e){return e.theme.colors.colorError})),bn=Object(s.default)(j.Typography)(qe()),On=function(e,n){switch(e){case"directory":return Object(r.jsx)(ln,{type:e});case"file":default:return Object(r.jsx)(ln,{type:e,children:Object(r.jsx)(dn,{children:n.type})})}},xn=function(e){var n=e.type,t=e.file,c=e.openDirHandler,a=e.shareClickHandler,i=e.downloadClickHandler,o=e.deleteClickHandler,u=e.showPopupLink;return Object(r.jsxs)(sn,{type:n,onClick:function(e){return"directory"===n?c(e,t):null},children:[On(n,t),Object(r.jsxs)(fn,{type:n,children:[Object(r.jsx)(bn,{children:t.name}),Object(r.jsxs)(pn,{children:["directory"!==n?Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(jn,Object(Xe.a)(Object(Xe.a)({onClick:function(){t.accessLink?u(t):a(t)}},t.accessLink?{icon:"basket"}:{icon:"share"}),{},{type:"outline-primary"})),Object(r.jsx)(jn,{onClick:function(){return i(t)},icon:"download",type:"primary"})]}):null,Object(r.jsx)(hn,{onClick:function(){return"directory"===n?null:o(t)},icon:"close"})]})]})]})};function vn(){var e=Object(p.a)(["\n    background-color: ",";\n    &:hover{\n        background-color: ",";\n    }\n"]);return vn=function(){return e},e}function mn(){var e=Object(p.a)(["\n    min-width: 320px;\n"]);return mn=function(){return e},e}var gn=Object(s.default)(j.Popup)(mn()),yn=Object(s.default)(j.Button)(vn(),(function(e){return e.theme.colors.colorError}),(function(e){return e.theme.colors.colorError})),wn=function(e){var n=e.visiblePopupLink,t=e.hidePopupLink,c=e.link,a=e.linkHandler,i=e.removeHandler,o=e.idFile;return Object(r.jsxs)(gn,{title:"\u0414\u043e\u0441\u0442\u0443\u043f \u043f\u043e \u0441\u0441\u044b\u043b\u043a\u0435",visible:n,type:"popup-close",onClose:t,children:[Object(r.jsx)(j.Input,{readonly:!0,value:c,onChange:a}),Object(r.jsx)(yn,{type:"primary",onClick:function(){return i(o)},children:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c"})]})},kn=t(24),En=t.n(kn);function Ln(){var e=Object(p.a)(["\n    position: relative;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    height: 100%;\n    width: 100%;\n"]);return Ln=function(){return e},e}function Sn(){var e=Object(p.a)(["\n    position: relative;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    height: 100%;\n    width: 100%;\n    border: 2px dashed ",";\n"]);return Sn=function(){return e},e}function Fn(){var e=Object(p.a)(["\n    position: relative;\n    display: flex;\n    height: 100%;\n    width: 100%;\n    margin-top: 24px;\n    z-index: 10;\n"]);return Fn=function(){return e},e}function In(){var e=Object(p.a)(["\n    outline: none;\n"]);return In=function(){return e},e}function Dn(){var e=Object(p.a)(["\n    margin-right: 16px;\n"]);return Dn=function(){return e},e}function _n(){var e=Object(p.a)(["\n    display: flex;\n    align-items: center;\n    margin-top: 16px;\n"]);return _n=function(){return e},e}function An(){var e=Object(p.a)(["\n    grid-area: content;\n    display: flex;\n    flex-direction: column;\n    margin-left: 16px;\n    margin-right: 16px;\n    z-index: 0;\n"]);return An=function(){return e},e}var Tn=s.default.div(An()),Un=s.default.div(_n()),Cn=Object(s.default)(j.IconButton)(Dn()),Hn=Object(s.default)(Ve.a)(In()),Pn=s.default.div(Fn()),Rn=s.default.div(Sn(),(function(e){return e.theme.colors.colorAccent})),Mn=Object(s.default)(j.Empty)(Ln()),Bn=Object(u.b)((function(e){var n=e.file,t=e.user;return{dirStack:n.dirStack,files:n.files,currentDir:n.currentDir,user:t,loader:n.loader}}),oe)((function(e){var n,t,a,i=e.dirStack,o=e.files,u=e.currentDir,s=e.user,l=(e.loader,Object(c.useState)("")),d=Object(X.a)(l,2),f=d[0],p=d[1],h=Object(c.useState)(""),b=Object(X.a)(h,2),O=b[0],x=b[1],v=Object(c.useState)(""),m=Object(X.a)(v,2),g=m[0],y=m[1],w=Object(c.useState)(!1),k=Object(X.a)(w,2),E=k[0],L=k[1],S=Object(c.useState)(!1),F=Object(X.a)(S,2),I=F[0],D=F[1],_=function(e){e.preventDefault(),e.stopPropagation(),D(!0)},A=function(e){e.preventDefault(),e.stopPropagation(),D(!1)},T=function(e){y(e._id),x("http://urij.insomnia247.nl:5311/file/"+e.accessLink),L(!0)},U=function(e,n){e.target.closest("button")?P(n):($.dispatch(oe.setPushToStack(u)),$.dispatch(oe.setCurrentDir(n._id)))},C=function(e){$.dispatch(oe.setShareLink(e,T))},H=function(e){$.dispatch(oe.downloadFile(e))},P=function(e){$.dispatch(oe.deleteFile(e))},R=function(e){if(void 0!==e)return"dir"===e.type?Object(r.jsx)(xn,{openDirHandler:U,deleteClickHandler:P,file:e,type:"directory"}):Object(r.jsx)(xn,{showPopupLink:T,shareClickHandler:C,deleteClickHandler:P,downloadClickHandler:H,file:e,type:"file"})},M={width:"100%",overflowX:"hidden"},B=352;document.documentElement.clientWidth>=752?a=document.documentElement.clientWidth-400:(M={overflowX:"hidden"},a=document.documentElement.clientWidth-32,document.documentElement.clientWidth<=383&&(B=288)),n=Math.floor(a/B),t=Math.ceil(o.length/n);return Object(r.jsxs)(Tn,{children:[Object(r.jsxs)(Un,{children:[Object(r.jsx)(Cn,{size:"24",type:"link",icon:"arrow-left-2",onClick:function(){return function(){var e=i.pop();$.dispatch(oe.setCurrentDir(e))}()}}),Object(r.jsx)(j.Input,{placeholder:"\u041f\u043e\u0438\u0441\u043a...",value:f,onChange:function(e){p(e.target.value),$.dispatch(oe.searchFiles(e.target.value))},visibleTitle:!1})]}),Object(r.jsx)(Pn,{onDragEnter:_,onDragLeave:A,onDragOver:_,children:I?Object(r.jsx)(Rn,{onDrop:function(e){e.preventDefault(),e.stopPropagation();var n=Object(V.a)(e.dataTransfer.files);$.dispatch(oe.uploadFile(n,u,s)),D(!1)},onDragEnter:_,onDragLeave:A,onDragOver:_,children:Object(r.jsx)(En.a,{type:"text",children:"\u041f\u0435\u0440\u0435\u0442\u0430\u0449\u0438\u0442\u0435 \u0444\u0430\u0439\u043b\u044b \u0441\u044e\u0434\u0430"})}):o?Object(r.jsx)(j.Frame,{as:Hn,style:M,itemData:o,columnWidth:B,columnCount:n,height:document.documentElement.clientHeight-72,rowHeight:112,rowCount:t,width:a,children:function(e){var t=e.columnIndex,c=e.rowIndex,a=e.style,i=e.data;return Object(r.jsx)("div",{style:a,children:R(i[c*n+t])})}}):Object(r.jsx)(Mn,{description:"\u0424\u0430\u0439\u043b\u044b \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u044b"})}),Object(r.jsx)(wn,{visiblePopupLink:E,hidePopupLink:function(){L(!1)},link:O,linkHandler:function(e){x(e.target.value)},removeHandler:function(e){$.dispatch(oe.removeShareLink(e)),y(""),x(""),L(!1)},idFile:g})]})}));function Nn(){var e=Object(p.a)(['\n    display: grid;\n    margin: 24px;\n    grid-template-rows: 1fr;\n    grid-template-columns: 320px 1fr;\n    width: 100%;\n    height: 100%;\n    grid-template-areas:\n        "sidebar content"; \n    background: ',';\n    @media screen and (max-width: 751px){\n        grid-template-columns: 1fr;\n        grid-template-areas: \n        "sidebar"\n        "content";\n        margin: 0;\n    }\n']);return Nn=function(){return e},e}function Wn(){var e=Object(p.a)(["\n    position: relative;\n    width: 100%;\n    height: 100vh;\n    background-image: url(",");\n    background-position: center center;\n    background-repeat: no-repeat;\n    background-size: cover;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n"]);return Wn=function(){return e},e}var zn=s.default.div(Wn(),W),Gn=s.default.div(Nn(),(function(e){return e.theme.colors.colorBg})),Kn=function(){return Object(r.jsx)(zn,{children:Object(r.jsxs)(Gn,{children:[Object(r.jsx)(Bn,{}),Object(r.jsx)(Ke,{})]})})},Vn=(t(99),Object(u.b)((function(e){return{isAuth:e.user.isAuth}}))((function(e){var n=e.isAuth;return Object(r.jsx)(f.c,{children:Object(r.jsx)(f.a,{path:"/",render:function(){return n?Object(r.jsx)(Kn,{}):Object(r.jsx)(N,{})}})})}))),Xn=window.location.search,Jn=new URLSearchParams(Xn).get("SSOToken");window.SSOToken=Jn,window.SSOToken?$.dispatch(ce.fetchUserLogin()):$.dispatch(ce.refresh()),i.a.render(Object(r.jsx)(u.a,{store:$,children:Object(r.jsx)(o.a,{basename:"",children:Object(r.jsx)(s.ThemeProvider,{theme:d.a,children:Object(r.jsx)(Vn,{})})})}),document.getElementById("root"))},21:function(e,n,t){"use strict";t.r(n);var r=t(19);n.default=Object(r.c)(["user","file"].reduce((function(e,n){return e[n]=t(97)("./".concat(n)).default,e}),{}))},38:function(e,n,t){"use strict";t.r(n),t.d(n,"default",(function(){return i}));var r=t(14),c=t(6),a={files:[],currentDir:null,dirStack:[],loader:!1,filesUpload:[]};function i(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:a,n=arguments.length>1?arguments[1]:void 0,t=n.type,i=n.payload;switch(t){case"FILE:SET_FILES":return Object(c.a)(Object(c.a)({},e),{},{files:i});case"FILE:SET_CURRENT_DIR":return Object(c.a)(Object(c.a)({},e),{},{currentDir:i});case"FILE:ADD_FILE":return Object(c.a)(Object(c.a)({},e),{},{files:[].concat(Object(r.a)(e.files),[i])});case"FILE:PUSH_TO_STACK":return Object(c.a)(Object(c.a)({},e),{},{dirStack:[].concat(Object(r.a)(e.dirStack),[i])});case"FILE:DELETE_FILE":return Object(c.a)(Object(c.a)({},e),{},{files:Object(r.a)(e.files.filter((function(e){return e._id!==i})))});case"FILE:SHOW_LOADER":return Object(c.a)(Object(c.a)({},e),{},{loader:!0});case"FILE:HIDE_LOADER":return Object(c.a)(Object(c.a)({},e),{},{loader:!1});case"FILE:ADD_UPLOAD_FILE":return Object(c.a)(Object(c.a)({},e),{},{filesUpload:[].concat(Object(r.a)(e.filesUpload),[i])});case"FILE:REMOVE_UPLOAD_FILE":return Object(c.a)(Object(c.a)({},e),{},{filesUpload:Object(r.a)(e.filesUpload.filter((function(e){return e.id!==i})))});case"FILE:CHANGE_UPLOAD_FILE":return Object(c.a)(Object(c.a)({},e),{},{filesUpload:Object(r.a)(e.filesUpload.map((function(e){return e.id===i.id?Object(c.a)(Object(c.a)({},e),{},{progress:i.progress}):Object(c.a)({},e)})))});case"FILE:SET_SHARE_LINK":return Object(c.a)(Object(c.a)({},e),{},{files:Object(r.a)(e.files.map((function(e){return e._id===i._id?Object(c.a)(Object(c.a)({},e),{},{accessLink:i.accessLink}):Object(c.a)({},e)})))});case"FILE:REMOVE_SHARE_LINK":return Object(c.a)(Object(c.a)({},e),{},{files:Object(r.a)(e.files.map((function(e){return e._id===i._id?Object(c.a)(Object(c.a)({},e),{},{accessLink:null}):Object(c.a)({},e)})))});default:return e}}},39:function(e,n,t){"use strict";t.r(n);var r=t(6),c={asseccToken:window.asseccToken,isAuth:!!window.asseccToken};n.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c,n=arguments.length>1?arguments[1]:void 0,t=n.type,a=n.payload;switch(t){case"USER:SET_DATA":return Object(r.a)(Object(r.a)(Object(r.a)({},e),a),{},{isAuth:!0,asseccToken:window.asseccToken});case"USER:SET_IS_AUTH":return Object(r.a)(Object(r.a)({},e),{},{isAuth:a});default:return e}}},97:function(e,n,t){var r={"./":21,"./file":38,"./file.js":38,"./index":21,"./index.js":21,"./user":39,"./user.js":39};function c(e){var n=a(e);return t(n)}function a(e){if(!t.o(r,e)){var n=new Error("Cannot find module '"+e+"'");throw n.code="MODULE_NOT_FOUND",n}return r[e]}c.keys=function(){return Object.keys(r)},c.resolve=a,e.exports=c,c.id=97},99:function(e,n,t){}},[[101,1,2]]]);
//# sourceMappingURL=main.4abe4b6a.chunk.js.map