[{"F:\\Web-дизайн\\disk-client\\src\\App.js":"1","F:\\Web-дизайн\\disk-client\\src\\redux\\store.js":"2","F:\\Web-дизайн\\disk-client\\src\\redux\\actions\\user.js":"3","F:\\Web-дизайн\\disk-client\\src\\pages\\Home\\index.jsx":"4","F:\\Web-дизайн\\disk-client\\src\\pages\\index.js":"5","F:\\Web-дизайн\\disk-client\\src\\redux\\actions\\index.js":"6","F:\\Web-дизайн\\disk-client\\src\\redux\\reducers\\user.js":"7","F:\\Web-дизайн\\disk-client\\src\\pages\\Main\\index.jsx":"8","F:\\Web-дизайн\\disk-client\\src\\index.js":"9","F:\\Web-дизайн\\disk-client\\src\\core\\api\\user.js":"10","F:\\Web-дизайн\\disk-client\\src\\redux\\reducers\\index.js":"11","F:\\Web-дизайн\\disk-client\\src\\core\\api\\index.js":"12","F:\\Web-дизайн\\disk-client\\src\\modules\\index.js":"13","F:\\Web-дизайн\\disk-client\\src\\modules\\Sidebar\\index.js":"14","F:\\Web-дизайн\\disk-client\\src\\modules\\Sidebar\\components\\Sidebar.jsx":"15","F:\\Web-дизайн\\disk-client\\src\\core\\index.js":"16","F:\\Web-дизайн\\disk-client\\src\\modules\\Content\\index.js":"17","F:\\Web-дизайн\\disk-client\\src\\modules\\Content\\components\\Content.jsx":"18","F:\\Web-дизайн\\disk-client\\src\\modules\\Content\\components\\Card.jsx":"19","F:\\Web-дизайн\\disk-client\\src\\redux\\actions\\file.js":"20","F:\\Web-дизайн\\disk-client\\src\\redux\\reducers\\file.js":"21","F:\\Web-дизайн\\disk-client\\src\\core\\api\\file.js":"22","F:\\Web-дизайн\\disk-client\\src\\config.js":"23","F:\\Web-дизайн\\disk-client\\src\\utils\\sizeFormat.js":"24","F:\\Web-дизайн\\disk-client\\src\\modules\\Sidebar\\components\\UploadFile.jsx":"25","F:\\Web-дизайн\\disk-client\\src\\modules\\Sidebar\\components\\Popup.jsx":"26","F:\\Web-дизайн\\disk-client\\src\\modules\\Content\\components\\Popup.jsx":"27","F:\\Web-дизайн\\disk-client\\src\\core\\core.js":"28"},{"size":438,"mtime":1610900059967,"results":"29","hashOfConfig":"30"},{"size":381,"mtime":1608742526893,"results":"31","hashOfConfig":"30"},{"size":1666,"mtime":1612806007543,"results":"32","hashOfConfig":"30"},{"size":1164,"mtime":1613575304072,"results":"33","hashOfConfig":"30"},{"size":84,"mtime":1607511078937,"results":"34","hashOfConfig":"30"},{"size":98,"mtime":1608996876469,"results":"35","hashOfConfig":"30"},{"size":484,"mtime":1609004135597,"results":"36","hashOfConfig":"30"},{"size":3786,"mtime":1615481261064,"results":"37","hashOfConfig":"30"},{"size":913,"mtime":1615481191329,"results":"38","hashOfConfig":"30"},{"size":381,"mtime":1612806027442,"results":"39","hashOfConfig":"30"},{"size":240,"mtime":1608996832031,"results":"40","hashOfConfig":"30"},{"size":90,"mtime":1608998122618,"results":"41","hashOfConfig":"30"},{"size":96,"mtime":1608824491362,"results":"42","hashOfConfig":"30"},{"size":70,"mtime":1610283861636,"results":"43","hashOfConfig":"30"},{"size":6093,"mtime":1613420109532,"results":"44","hashOfConfig":"30"},{"size":41,"mtime":1612710881323,"results":"45","hashOfConfig":"30"},{"size":70,"mtime":1610270684156,"results":"46","hashOfConfig":"30"},{"size":7448,"mtime":1612711985059,"results":"47","hashOfConfig":"30"},{"size":4139,"mtime":1612030191369,"results":"48","hashOfConfig":"30"},{"size":5712,"mtime":1612981712815,"results":"49","hashOfConfig":"30"},{"size":1996,"mtime":1611315945646,"results":"50","hashOfConfig":"30"},{"size":1073,"mtime":1612806144710,"results":"51","hashOfConfig":"30"},{"size":353,"mtime":1615482347661,"results":"52","hashOfConfig":"30"},{"size":327,"mtime":1609062821634,"results":"53","hashOfConfig":"30"},{"size":1294,"mtime":1611316233885,"results":"54","hashOfConfig":"30"},{"size":783,"mtime":1612028747848,"results":"55","hashOfConfig":"30"},{"size":969,"mtime":1612028744923,"results":"56","hashOfConfig":"30"},{"size":134,"mtime":1612710866266,"results":"57","hashOfConfig":"30"},{"filePath":"58","messages":"59","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"60"},"ibbh0e",{"filePath":"61","messages":"62","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"63"},{"filePath":"64","messages":"65","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"66"},{"filePath":"67","messages":"68","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"66"},{"filePath":"69","messages":"70","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"66"},{"filePath":"71","messages":"72","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"66"},{"filePath":"73","messages":"74","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"75","usedDeprecatedRules":"66"},{"filePath":"76","messages":"77","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"78","messages":"79","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"66"},{"filePath":"80","messages":"81","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"82"},{"filePath":"83","messages":"84","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"66"},{"filePath":"85","messages":"86","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"66"},{"filePath":"87","messages":"88","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"89"},{"filePath":"90","messages":"91","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"60"},{"filePath":"92","messages":"93","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"94"},{"filePath":"95","messages":"96","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"66"},{"filePath":"97","messages":"98","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"94"},{"filePath":"99","messages":"100","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"101","usedDeprecatedRules":"89"},{"filePath":"102","messages":"103","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"104"},{"filePath":"105","messages":"106","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"66"},{"filePath":"107","messages":"108","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"66"},{"filePath":"109","messages":"110","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"89"},{"filePath":"111","messages":"112","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"66"},{"filePath":"113","messages":"114","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"115","usedDeprecatedRules":"116"},{"filePath":"117","messages":"118","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"94"},{"filePath":"119","messages":"120","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"89"},{"filePath":"121","messages":"122","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"123","messages":"124","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"89"},"F:\\Web-дизайн\\disk-client\\src\\App.js",[],["125","126"],"F:\\Web-дизайн\\disk-client\\src\\redux\\store.js",[],["127","128"],"F:\\Web-дизайн\\disk-client\\src\\redux\\actions\\user.js",[],["129","130"],"F:\\Web-дизайн\\disk-client\\src\\pages\\Home\\index.jsx",[],"F:\\Web-дизайн\\disk-client\\src\\pages\\index.js",[],"F:\\Web-дизайн\\disk-client\\src\\redux\\actions\\index.js",[],"F:\\Web-дизайн\\disk-client\\src\\redux\\reducers\\user.js",["131"],"const initialState = {\r\n  asseccToken: window.asseccToken,\r\n  isAuth: !!window.asseccToken,\r\n};\r\n\r\nexport default (state = initialState, { type, payload }) => {\r\n  switch (type) {\r\n    case \"USER:SET_DATA\":\r\n      return {\r\n        ...state,\r\n        ...payload,\r\n        isAuth: true,\r\n        asseccToken: window.asseccToken,\r\n      };\r\n    case \"USER:SET_IS_AUTH\":\r\n      return {\r\n        ...state,\r\n        isAuth: payload,\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n","F:\\Web-дизайн\\disk-client\\src\\pages\\Main\\index.jsx",[],"F:\\Web-дизайн\\disk-client\\src\\index.js",[],"F:\\Web-дизайн\\disk-client\\src\\core\\api\\user.js",[],["132","133"],"F:\\Web-дизайн\\disk-client\\src\\redux\\reducers\\index.js",[],"F:\\Web-дизайн\\disk-client\\src\\core\\api\\index.js",[],"F:\\Web-дизайн\\disk-client\\src\\modules\\index.js",[],["134","135"],"F:\\Web-дизайн\\disk-client\\src\\modules\\Sidebar\\index.js",[],"F:\\Web-дизайн\\disk-client\\src\\modules\\Sidebar\\components\\Sidebar.jsx",[],["136","137"],"F:\\Web-дизайн\\disk-client\\src\\core\\index.js",[],"F:\\Web-дизайн\\disk-client\\src\\modules\\Content\\index.js",[],"F:\\Web-дизайн\\disk-client\\src\\modules\\Content\\components\\Content.jsx",["138"],"import React, {useState} from 'react'\r\nimport styled from 'styled-components'\r\nimport {Frame, IconButton, Input, Empty} from 'ui-nature'\r\nimport { FixedSizeGrid as Grid } from 'react-window';\r\nimport { connect } from \"react-redux\";\r\nimport store from \"../../../redux/store\";\r\nimport { fileActions } from \"../../../redux/actions\";\r\nimport Card from './Card'\r\nimport Popup from \"./Popup\"\r\nimport {DISK_URL} from \"../../../config\";\r\nimport Typography from 'ui-nature/dist/Typography';\r\n\r\nconst Container = styled.div`\r\n    grid-area: content;\r\n    display: flex;\r\n    flex-direction: column;\r\n    margin-left: 16px;\r\n    margin-right: 16px;\r\n    z-index: 0;\r\n`\r\nconst Header = styled.div`\r\n    display: flex;\r\n    align-items: center;\r\n    margin-top: 16px;\r\n`\r\nconst IconButtonBack = styled(IconButton)`\r\n    margin-right: 16px;\r\n`\r\nconst FrameContainer = styled(Grid)`\r\n    outline: none;\r\n`\r\nconst GridContainer = styled.div`\r\n    position: relative;\r\n    display: flex;\r\n    height: 100%;\r\n    width: 100%;\r\n    margin-top: 24px;\r\n    z-index: 10;\r\n`\r\nconst DropArea = styled.div`\r\n    position: relative;\r\n    display: flex;\r\n    justify-content: center;\r\n    align-items: center;\r\n    height: 100%;\r\n    width: 100%;\r\n    border: 2px dashed ${props => props.theme.colors.colorAccent};\r\n`\r\nconst EmptyContainer = styled(Empty)`\r\n    position: relative;\r\n    display: flex;\r\n    justify-content: center;\r\n    align-items: center;\r\n    height: 100%;\r\n    width: 100%;\r\n`\r\n\r\nconst Content = props => {\r\n    const {\r\n        dirStack,\r\n        files,\r\n        currentDir,\r\n        user,\r\n        loader\r\n    } = props;\r\n\r\n    const [search, setSearch] = useState('')\r\n    const [link, setLink] = useState('')\r\n    const [idFile, setIdFile] = useState('')\r\n    const [visiblePopupLink, setVisiblePopupLink] = useState(false)\r\n    const [dragEnter, setDragEnter] = useState(false)\r\n    \r\n    const dragEnterHandler = (event) => {\r\n        event.preventDefault()\r\n        event.stopPropagation()\r\n        setDragEnter(true)\r\n    }\r\n    const dragLeaveHandler = (event) => {\r\n        event.preventDefault()\r\n        event.stopPropagation()\r\n        setDragEnter(false)\r\n    }\r\n    const dropHandler = (event) => {\r\n        event.preventDefault()\r\n        event.stopPropagation()\r\n        let files = [...event.dataTransfer.files]\r\n        store.dispatch(fileActions.uploadFile(files, currentDir, user))\r\n        setDragEnter(false)\r\n    }\r\n    const showPopupLink = (file) => {\r\n        let url = DISK_URL+\"/file/\"\r\n        setIdFile(file._id)\r\n        setLink(url + file.accessLink)\r\n        setVisiblePopupLink(true)\r\n    }\r\n    const hidePopupLink = () => {\r\n        setVisiblePopupLink(false)\r\n    }\r\n    const linkHandler = (event) => {\r\n        setLink(event.target.value)\r\n    }\r\n    const removeHandler = (idFile) => {\r\n        store.dispatch(fileActions.removeShareLink(idFile))\r\n        setIdFile('')\r\n        setLink('')\r\n        setVisiblePopupLink(false)\r\n    }\r\n    const backClickHandler = () => {\r\n        const backDirId = dirStack.pop()\r\n        store.dispatch(fileActions.setCurrentDir(backDirId))\r\n    }\r\n    const openDirHandler = (e, file) => {\r\n        let button = e.target.closest('button');\r\n        if(button){\r\n            deleteClickHandler(file)\r\n        }else{\r\n            store.dispatch(fileActions.setPushToStack(currentDir))\r\n            store.dispatch(fileActions.setCurrentDir(file._id))\r\n        }\r\n    }\r\n    const shareClickHandler = (file) => {\r\n        store.dispatch(fileActions.setShareLink(file,showPopupLink))\r\n    }\r\n    const downloadClickHandler = (file) => {\r\n        store.dispatch(fileActions.downloadFile(file))\r\n    }\r\n    const deleteClickHandler = (file) => {\r\n        store.dispatch(fileActions.deleteFile(file))\r\n    } \r\n    const searchHandler = (event) => {\r\n        setSearch(event.target.value)\r\n        store.dispatch(fileActions.searchFiles(event.target.value))\r\n    }\r\n    const changeTypeContent = (file) => {\r\n        if(file !== undefined){\r\n            if(file.type === 'dir' ){\r\n                return <Card openDirHandler={openDirHandler} deleteClickHandler={deleteClickHandler} file={file} type=\"directory\"/>\r\n            }\r\n            return <Card showPopupLink={showPopupLink} shareClickHandler={shareClickHandler} deleteClickHandler={deleteClickHandler} downloadClickHandler={downloadClickHandler} file={file} type=\"file\"/>\r\n        }\r\n    }\r\n    \r\n    let styleWrapper = {\r\n        \"width\": \"100%\",\r\n        \"overflowX\": \"hidden\",\r\n    }\r\n    let columnWidth = 352;\r\n    let countColumn;\r\n    let rowCount;\r\n    let widthContainer;\r\n    if(document.documentElement.clientWidth >= 752){\r\n        widthContainer = (document.documentElement.clientWidth - 400)\r\n    }else{\r\n        styleWrapper = {\r\n            \"overflowX\": \"hidden\",\r\n        }\r\n        widthContainer = (document.documentElement.clientWidth - 32)\r\n        if(document.documentElement.clientWidth <= 383){\r\n            columnWidth = 288\r\n        }  \r\n    }\r\n    countColumn = Math.floor(widthContainer / columnWidth)\r\n    rowCount = Math.ceil(files.length / countColumn)\r\n    const renderCell = ({ columnIndex, rowIndex, style, data }) => (\r\n        <div style={style}>\r\n            {changeTypeContent(data[(rowIndex*countColumn)+columnIndex])}\r\n        </div>\r\n    );\r\n    return ( \r\n        <Container>\r\n            <Header>\r\n                <IconButtonBack size=\"24\" type=\"link\" icon=\"arrow-left-2\" onClick={() => backClickHandler()}/>\r\n                <Input placeholder=\"Поиск...\" value={search} onChange={searchHandler} visibleTitle={false} />\r\n            </Header>\r\n            <GridContainer onDragEnter={dragEnterHandler} onDragLeave={dragLeaveHandler} onDragOver={dragEnterHandler}>\r\n                {!dragEnter ?\r\n                    files ? (\r\n                        <Frame as={FrameContainer}\r\n                            style={styleWrapper}\r\n                            itemData={files}\r\n                            columnWidth={columnWidth}\r\n                            columnCount={countColumn}\r\n                            height={document.documentElement.clientHeight - 72}\r\n                            rowHeight={112}\r\n                            rowCount={rowCount}\r\n                            width={widthContainer}\r\n                        >\r\n                            {renderCell}\r\n                        </Frame>\r\n                    ) : (\r\n                        <EmptyContainer description=\"Файлы не найдены\"/>\r\n                    )\r\n                : (\r\n                    <DropArea onDrop={dropHandler} onDragEnter={dragEnterHandler} onDragLeave={dragLeaveHandler} onDragOver={dragEnterHandler}>\r\n                        <Typography type=\"text\">\r\n                            Перетащите файлы сюда\r\n                        </Typography>\r\n                    </DropArea>\r\n                )}   \r\n            </GridContainer>\r\n            <Popup \r\n                visiblePopupLink={visiblePopupLink}\r\n                hidePopupLink={hidePopupLink}\r\n                link={link}\r\n                linkHandler={linkHandler}\r\n                removeHandler={removeHandler}\r\n                idFile={idFile}\r\n            />\r\n        </Container>\r\n    )\r\n}\r\n\r\nexport default connect(({file,user}) => ({\r\n  dirStack: file.dirStack,\r\n  files: file.files,\r\n  currentDir: file.currentDir,\r\n  user: user,\r\n  loader: file.loader\r\n}), fileActions)(Content)\r\n","F:\\Web-дизайн\\disk-client\\src\\modules\\Content\\components\\Card.jsx",[],["139","140"],"F:\\Web-дизайн\\disk-client\\src\\redux\\actions\\file.js",[],"F:\\Web-дизайн\\disk-client\\src\\redux\\reducers\\file.js",[],"F:\\Web-дизайн\\disk-client\\src\\core\\api\\file.js",[],"F:\\Web-дизайн\\disk-client\\src\\config.js",[],"F:\\Web-дизайн\\disk-client\\src\\utils\\sizeFormat.js",["141"],"export default (size) => {\r\n    if(size > 1024*1024*1024) {\r\n        return (size/(1024*1024*1024)).toFixed(1)+\" Гб\"\r\n    }\r\n    if(size > 1024*1024) {\r\n        return (size/(1024*1024)).toFixed(1)+\" Мб\"\r\n    }\r\n    if(size > 1024) {\r\n        return (size/(1024)).toFixed(1)+\" Кб\"\r\n    }\r\n    return size+\" байт\"\r\n}\r\n",["142","143"],"F:\\Web-дизайн\\disk-client\\src\\modules\\Sidebar\\components\\UploadFile.jsx",[],"F:\\Web-дизайн\\disk-client\\src\\modules\\Sidebar\\components\\Popup.jsx",[],"F:\\Web-дизайн\\disk-client\\src\\modules\\Content\\components\\Popup.jsx",[],"F:\\Web-дизайн\\disk-client\\src\\core\\core.js",[],{"ruleId":"144","replacedBy":"145"},{"ruleId":"146","replacedBy":"147"},{"ruleId":"144","replacedBy":"148"},{"ruleId":"146","replacedBy":"149"},{"ruleId":"144","replacedBy":"150"},{"ruleId":"146","replacedBy":"151"},{"ruleId":"152","severity":1,"message":"153","line":6,"column":1,"nodeType":"154","endLine":23,"endColumn":3},{"ruleId":"144","replacedBy":"155"},{"ruleId":"146","replacedBy":"156"},{"ruleId":"144","replacedBy":"157"},{"ruleId":"146","replacedBy":"158"},{"ruleId":"144","replacedBy":"159"},{"ruleId":"146","replacedBy":"160"},{"ruleId":"161","severity":1,"message":"162","line":64,"column":9,"nodeType":"163","messageId":"164","endLine":64,"endColumn":15},{"ruleId":"144","replacedBy":"165"},{"ruleId":"146","replacedBy":"166"},{"ruleId":"152","severity":1,"message":"153","line":1,"column":1,"nodeType":"154","endLine":12,"endColumn":2},{"ruleId":"144","replacedBy":"167"},{"ruleId":"146","replacedBy":"168"},"no-native-reassign",["169"],"no-negated-in-lhs",["170"],["169"],["170"],["169"],["170"],"import/no-anonymous-default-export","Assign arrow function to a variable before exporting as module default","ExportDefaultDeclaration",["169"],["170"],["169"],["170"],["169"],["170"],"no-unused-vars","'loader' is assigned a value but never used.","Identifier","unusedVar",["169"],["170"],["169"],["170"],"no-global-assign","no-unsafe-negation"]